[TOC]

### Tomcat NIO Connecter

> tomcat连接模式，支持NIO、BIO、APR
>
> NIO使tomcat容易可以用少量线程处理大量连接请求

### 秒杀方案

#### 公平队列

>

#### 多段库存

>



### 预估

> 观察机器cpu负载（top）、内存使用率（free）、gc频率（jstat）、磁盘io负载（top）、网络流量（sar）









分32个库，每个库32张表，用户id后4位对32取模找到库和表，建8个数据库集群（主从），每个集群上创建4个库

扩容时，再创建8个集群，原有集群从4个库拆出2个库到新集群，